(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94205206"],{bec7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.students,"sort-by":"name","hide-default-footer":""},scopedSlots:e._u([{key:"item.exame",fn:function(t){return[n("v-edit-dialog",{attrs:{persistent:"",large:"","return-value":t.item.exame},on:{save:function(n){return e.save(t.item)},cancel:function(e){t.item.exame=t.item._exame||t.item.exame},open:function(e){t.item._exame=t.item.exame},"update:returnValue":function(n){return e.$set(t.item,"exame",n)},"update:return-value":function(n){return e.$set(t.item,"exame",n)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{type:"number",label:"Экзамен",rules:[function(e){return e>=0&&e<=100||"Превышено количество баллов"}],"single-line":"",autofocus:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null}},model:{value:t.item.exame,callback:function(n){e.$set(t.item,"exame",n)},expression:"props.item.exame"}})]},proxy:!0}],null,!0)},[n("div",[e._v(e._s(t.item.exame))])])]}},{key:"item.isExame",fn:function(t){return[n("v-simple-checkbox",{attrs:{ripple:!1},on:{input:function(n){return e.save(t.item)}},model:{value:t.item.isExame,callback:function(n){e.$set(t.item,"isExame",n)},expression:"props.item.isExame"}})]}},{key:"item.theory1",fn:function(t){return[n("v-edit-dialog",{attrs:{persistent:"",large:"","return-value":t.item.theory1},on:{save:function(n){return e.save(t.item)},cancel:function(e){t.item.theory1=t.item._theory1||t.item.theory1},open:function(e){t.item._theory1=t.item.theory1},"update:returnValue":function(n){return e.$set(t.item,"theory1",n)},"update:return-value":function(n){return e.$set(t.item,"theory1",n)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{type:"number",label:"Теория модуль 1",rules:[function(e){return e>=0&&e<=50-t.item.practice1||"Превышено количество баллов"}],"single-line":"",autofocus:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null}},model:{value:t.item.theory1,callback:function(n){e.$set(t.item,"theory1",n)},expression:"props.item.theory1"}})]},proxy:!0}],null,!0)},[n("div",[e._v(e._s(t.item.theory1))])])]}},{key:"item.practice1",fn:function(t){return[n("v-edit-dialog",{attrs:{persistent:"",large:"","return-value":t.item.practice1},on:{save:function(n){return e.save(t.item)},cancel:function(e){t.item.practice1=t.item._practice1||t.item.practice1},"update:returnValue":function(n){return e.$set(t.item,"practice1",n)},"update:return-value":function(n){return e.$set(t.item,"practice1",n)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{type:"number",label:"Практика модуль 1",rules:[function(e){return e>=0&&e<=50-t.item.theory1||"Превышено количество баллов"}],"single-line":""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null}},model:{value:t.item.practice1,callback:function(n){e.$set(t.item,"practice1",n)},expression:"props.item.practice1"}})]},proxy:!0}],null,!0)},[e._v(e._s(t.item.practice1)+" ")])]}},{key:"item.practice2",fn:function(t){return[n("v-edit-dialog",{attrs:{persistent:"",large:"","return-value":t.item.practice2},on:{save:function(n){return e.save(t.item)},cancel:function(e){t.item.practice2=t.item._practice2||t.item.practice2},"update:returnValue":function(n){return e.$set(t.item,"practice2",n)},"update:return-value":function(n){return e.$set(t.item,"practice2",n)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{type:"number",label:"Практика модуль 2",rules:[function(e){return e>=0&&e<=50-t.item.theory2||"Превышено количество баллов"}],"single-line":""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null}},model:{value:t.item.practice2,callback:function(n){e.$set(t.item,"practice2",n)},expression:"props.item.practice2"}})]},proxy:!0}],null,!0)},[e._v(e._s(t.item.practice2)+" ")])]}},{key:"item.theory2",fn:function(t){return[n("v-edit-dialog",{attrs:{persistent:"",large:"","return-value":t.item.theory2},on:{save:function(n){return e.save(t.item)},cancel:function(e){t.item.theory2=t.item._theory2||t.item.theory2},"update:returnValue":function(n){return e.$set(t.item,"theory2",n)},"update:return-value":function(n){return e.$set(t.item,"theory2",n)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{type:"number",label:"Теория модуль 2",rules:[function(e){return e>=0&&e<=50-t.item.practice2||"Превышено количество баллов"}],"single-line":""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null}},model:{value:t.item.theory2,callback:function(n){e.$set(t.item,"theory2",n)},expression:"props.item.theory2"}})]},proxy:!0}],null,!0)},[e._v(e._s(t.item.theory2)+" ")])]}}])})],1)],1)},i=[],a=(n("4160"),n("159b"),{name:"field",data:function(){return{headers:[{text:"ФИО",align:"start",sortable:!1,value:"name"},{text:"Теория модуль 1",sortable:!1,value:"theory1"},{text:"Практика модуль 1",sortable:!1,value:"practice1"},{text:"Теория модуль 2",sortable:!1,value:"theory2"},{text:"Практика модуль 2",sortable:!1,value:"practice2"},{text:"Экзамен",sortable:!1,value:"exame"},{text:"Учитывать экзамен",sortable:!1,value:"isExame"},{text:"Итого баллов",sortable:!1,value:"CountRate"},{text:"Оценка",sortable:!1,value:"rate"}]}},methods:{reduceCountRate:function(){this.students.forEach((function(e){e.CountRate=parseInt(e.theory1)+parseInt(e.theory2)+parseInt(e.practice1)+parseInt(e.practice2),e.isExame?(e.CountRate=e.exame,e.exame>80?e.rate=5:e.exame>60?e.rate=4:e.exame>40?e.rate=3:e.rate=2):e.CountRate>80?e.rate=5:e.CountRate>60?e.rate=4:e.CountRate>40?e.rate=3:e.rate=2}))},save:function(e){var t=e.theory1,n=e.theory2,r=e.practice1,i=e.practice2;console.log("asd");var a=parseInt(t),o=parseInt(n),s=parseInt(r),u=parseInt(i);a+s<=50&&a+s>0&&o+u<=50&&o+u>0?this.reduceCountRate():this.$store.dispatch("setError",{text:"Количество баллов за модуль превышено, данные не сохранены",color:"error"})}},computed:{students:function(){return this.$store.getters.students}}}),o=a,s=n("2877"),u=n("6544"),c=n.n(u),l=n("62ad"),m=n("8fea"),p=(n("c79c"),n("e4d3")),f=n("7560"),d=n("80d2"),v=n("afdd"),y=n("326d"),h=n("58df"),x=Object(h["a"])(p["a"],f["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(e){e?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var e=this.$refs.content.querySelector("input");e&&e.focus()},genButton:function(e,t){return this.$createElement(v["a"],{props:{text:!0,color:"primary",light:!0},on:{click:e}},t)},genActions:function(){var e=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){e.save(e.returnValue),e.$emit("save")}),this.saveText)])},genContent:function(){var e=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(t){t.keyCode===d["y"].esc&&e.cancel(),t.keyCode===d["y"].enter&&(e.save(e.returnValue),e.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(e){var t=this;return e(y["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(e){return t.isActive=e}},scopedSlots:{activator:function(n){var r=n.on;return e("div",{staticClass:"v-small-dialog__activator",on:r},[e("span",{staticClass:"v-small-dialog__activator__content"},t.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}}),k=n("0fd9"),g=n("9e88"),_=n("8654"),b=Object(s["a"])(o,r,i,!1,null,null,null);t["default"]=b.exports;c()(b,{VCol:l["a"],VDataTable:m["a"],VEditDialog:x,VRow:k["a"],VSimpleCheckbox:g["a"],VTextField:_["a"]})},c79c:function(e,t,n){}}]);
//# sourceMappingURL=chunk-94205206.0a4d1b4b.js.map